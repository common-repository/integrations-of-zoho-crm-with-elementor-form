var tt=Object.defineProperty;var Ee=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable;var Ze=(t,l,a)=>l in t?tt(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a,A=(t,l)=>{for(var a in l||(l={}))st.call(l,a)&&Ze(t,a,l[a]);if(Ee)for(var a of Ee(l))it.call(l,a)&&Ze(t,a,l[a]);return t};import{j as e,r as F,L as se,R as L}from"./index-1.0.6.js";import{_ as n,i as oe,j as z,k as W,N as lt,l as qe,C as ae,M as rt,m as We,g as at,n as nt}from"./bi-910-9.js";import{T as ot,E as ct}from"./bi-251-16.js";import{r as Ge,b as dt,d as Ke,e as Se,f as ut,g as ie,i as ht,j as Je,k as Qe,l as pt,m as mt}from"./bi-40-17.js";const O=(t,l=new WeakMap)=>{if(typeof t!="object"||t===null)return t;const a=(s,c)=>{let b=-1;const{length:j}=s;for(;++b<j;)c(s[b],b);return s},i=Array.isArray(t),r=i?[]:{};return l.get(t)?l.get(t):(l.set(t,r),i?a(t,(s,c)=>{r[c]=O(s,l)}):a(Object.keys(t),(s,c)=>{r[s]=O(t[s],l)}),r)};function E({className:t,type:l,onClick:a,icn:i,children:r,style:s}){return e.jsx("button",{style:s,className:`${i?"icn-btn":"btn"}  ${t}`,type:l||"button",onClick:a,"aria-label":"btcd-button",children:r})}function Ve({className:t,onChange:l,value:a,label:i,children:r,style:s}){return e.jsxs("div",{className:`btcd-mt-sel ${t}`,style:s,children:[e.jsx("select",{onChange:l,value:a||"",children:r}),e.jsx("small",{children:i})]})}function Xe({label:t,onChange:l,value:a,disabled:i,type:r,textarea:s,className:c}){return e.jsxs("label",{className:`btcd-mt-inp ${c}`,children:[!s&&e.jsx("input",{type:r===void 0?"text":r,onChange:l,placeholder:" ",disabled:i,value:a}),s&&e.jsx("textarea",{type:r===void 0?"text":r,onChange:l,placeholder:" ",disabled:i,value:a}),e.jsx("span",{children:t})]})}function be({fieldVal:t,delLogic:l,lgcInd:a,subLgcInd:i,subSubLgcInd:r,value:s,changeLogic:c,logicValue:b,changeValue:j,changeFormField:v,formFields:g,setValue:T}){var u;const k=[];let f="",y="",d="";(u=g==null?void 0:g.find)==null||u.call(g,h=>{if(h.key===t)return h.type.match(/^(check|radio)$/)?f="text":f=h.type,y=h.type,d=h.key,!0});const o=()=>{var x,m,N;let h=[];return y==="select"?h=(x=k==null?void 0:k[d])==null?void 0:x.opt:h=(N=(m=k==null?void 0:k[d])==null?void 0:m.opt)==null?void 0:N.map(P=>({label:P.lbl,value:P.val||P.lbl})),h};return e.jsxs("div",{className:"flx pos-rel btcd-logic-blk",children:[e.jsx("span",{className:"btcd-logic-chip mr-2",children:"IF"}),e.jsxs(Ve,{label:"Form Fields",value:t||"",style:{width:620},onChange:h=>v(h.target.value,a,i,r),children:[e.jsx("option",{value:"",children:n("Select Form Field")}),g==null?void 0:g.map(h=>!h.type.match(/^(file|recaptcha)$/)&&e.jsx("option",{value:h.name,children:h.label},`ff-lb-${h.name}`))]}),e.jsx("svg",{height:"35",width:"100",className:"mt-1",children:e.jsx("line",{x1:"0",y1:"20",x2:"40",y2:"20",style:{stroke:"#b9c5ff",strokeWidth:1}})}),e.jsxs(Ve,{label:"Logic",value:b||"",onChange:h=>c(h.target.value,a,i,r),className:"w-5",children:[e.jsx("option",{value:"",children:n("Select One")}),e.jsx("option",{value:"equal",children:n("Equal")}),e.jsx("option",{value:"not_equal",children:n("Not Equal")}),e.jsx("option",{value:"null",children:n("Is Null")}),e.jsx("option",{value:"not_null",children:n("Is Not Null")}),e.jsx("option",{value:"contain",children:n("Contain")}),e.jsx("option",{value:"not_contain",children:n("Not Contain")}),e.jsx("option",{value:"greater",children:n("Greater Than (Number)")}),e.jsx("option",{value:"less",children:n("Less Than (Number)")}),e.jsx("option",{value:"greater_or_equal",children:n("Greater Than or Equal (Number)")}),e.jsx("option",{value:"less_or_equal",children:n("Less Than or Equal (Number)")}),e.jsx("option",{value:"start_with",children:n("Start With")}),e.jsx("option",{value:"end_with",children:n("End With")})]}),e.jsx("svg",{height:"35",width:"100",className:"mt-1",children:e.jsx("line",{x1:"0",y1:"20",x2:"40",y2:"20",style:{stroke:"#b9c5ff",strokeWidth:1}})}),y.match(/select|check|radio/g)?e.jsx(oe,{className:"msl-wrp-options btcd-paper-drpdwn w-6",defaultValue:s||"",onChange:h=>j(h,a,i,r),options:o(),customValue:!0,fldType:y}):e.jsx(Xe,{label:"Value",type:f,disabled:b==="null"||b==="not_null",onChange:h=>j(h.target.value,a,i,r),value:s||""}),e.jsxs("div",{className:"btcd-li-side-btn",children:[e.jsx(E,{onClick:()=>l(a,i,r),icn:!0,className:"ml-2 white mr-2 sh-sm",children:e.jsx(ot,{size:"16"})}),e.jsx(oe,{options:g==null?void 0:g.map(h=>h.type!=="file"&&{label:h.label,value:`\${${h.name}}`}),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:h=>T(h,a,i,r)})]})]})}function je({logic:t,nested:l,onChange:a}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{height:l?5:10},children:e.jsx("svg",{height:"60",width:"50",children:e.jsx("line",{x1:"20",y1:l?6:10,x2:"20",y2:"0",style:{stroke:"#b9c5ff",strokeWidth:1}})})}),e.jsx("div",{children:e.jsxs("select",{value:t,onChange:a,className:`btcd-logic-chip ${l&&"scl-7 op-8"}`,children:[e.jsx("option",{value:"or",children:n("OR")}),e.jsx("option",{value:"and",children:n("AND")})]})}),e.jsx("div",{style:{height:l?5:10},children:e.jsx("svg",{height:"60",width:"50",children:e.jsx("line",{x1:"20",y1:l?6:10,x2:"20",y2:"0",style:{stroke:"#b9c5ff",strokeWidth:1}})})})]})}function Be({formFields:t,dataConf:l,setDataConf:a}){var k,f,y;const i=(d,o,u,h)=>{a(h!==void 0?x=>{const m=O(x);return m.condition.logics[o][u][h]=d,m}:u!==void 0?x=>{const m=O(x);return m.condition.logics[o][u]=d,m}:x=>{const m=O(x);return m.condition.logics[o]=d,m})},r=(d,o,u,h)=>{a(h!==void 0?x=>{const m=O(x);return m.condition.logics[o][u][h].field=d,m.condition.logics[o][u][h].val="",m}:u!==void 0?x=>{const m=O(x);return m.condition.logics[o][u].field=d,m.condition.logics[o][u].val="",m}:x=>{const m=O(x);return m.condition.logics[o].field=d,m.condition.logics[o].val="",m})},s=(d,o,u,h)=>{a(h!==void 0?x=>{const m=O(x);return m.condition.logics[o][u][h].val=d,m}:u!==void 0?x=>{const m=O(x);return m.condition.logics[o][u].val=d,m}:x=>{const m=O(x);return m.condition.logics[o].val=d,m})},c=(d,o,u,h)=>{a(h!==void 0?x=>{const m=O(x);return d==="null"&&(m.condition.logics[o][u][h].val=""),m.condition.logics[o][u][h].logic=d,m}:u!==void 0?x=>{const m=O(x);return d==="null"&&(m.condition.logics[o][u].val=""),m.condition.logics[o][u].logic=d,m}:x=>{const m=O(x);return d==="null"&&(m.condition.logics[o].val=""),m.condition.logics[o].logic=d,m})},b=(d,o,u)=>{var h,x;((x=(h=l==null?void 0:l.condition)==null?void 0:h.logics)==null?void 0:x.length)>1&&a(u!==void 0?m=>{const N=O(m);if(N.condition.logics[d][o].length===u+1)if(N.condition.logics[d][o].length===3){const P=N.condition.logics[d][o][u-2];N.condition.logics[d].splice(o,1),N.condition.logics[d].push(P)}else N.condition.logics[d][o].splice(u-1,2);else if(N.condition.logics[d][o].length===3){const P=N.condition.logics[d][o][u+2];N.condition.logics[d].splice(o,1),N.condition.logics[d].push(P)}else N.condition.logics[d][o].splice(u,2);return N}:o!==void 0?m=>{const N=O(m);if(N.condition.logics[d].length===o+1)if(N.condition.logics[d].length===3){const P=N.condition.logics[d][o-2];N.condition.logics.splice(d,1),N.condition.logics.splice(d,0,P)}else N.condition.logics[d].splice(o-1,2);else if(N.condition.logics[d].length===3){const P=N.condition.logics[d][o+2];N.condition.logics.splice(d,1),N.condition.logics.splice(d,0,P)}else N.condition.logics[d].splice(o,2);return N}:m=>{const N=O(m);return d!==0?N.condition.logics.splice(d-1,2):N.condition.logics.splice(d,2),N})},j=d=>{d==="and"?a(o=>{const u=O(o);return u.condition.logics.push("and"),u.condition.logics.push({field:"",logic:"",val:""}),u}):d==="or"?a(o=>{const u=O(o);return u.condition.logics.push("or"),u.condition.logics.push({field:"",logic:"",val:""}),u}):d==="orGrp"?a(o=>{const u=O(o);return u.condition.logics.push("or"),u.condition.logics.push([{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}]),u}):d==="andGrp"&&a(o=>{const u=O(o);return u.condition.logics.push("and"),u.condition.logics.push([{field:"",logic:"",val:""},"and",{field:"",logic:"",val:""}]),u})},v=(d,o)=>{d==="and"?a(u=>{const h=O(u);return h.condition.logics[o].push("and"),h.condition.logics[o].push({field:"",logic:"",val:""}),h}):d==="or"?a(u=>{const h=O(u);return h.condition.logics[o].push("or"),h.condition.logics[o].push({field:"",logic:"",val:""}),h}):d==="orGrp"?a(u=>{const h=O(u);return h.condition.logics[o].push("or"),h.condition.logics[o].push([{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}]),h}):d==="andGrp"&&a(u=>{const h=O(u);return h.condition.logics[o].push("and"),h.condition.logics[o].push([{field:"",logic:"",val:""},"and",{field:"",logic:"",val:""}]),h})},g=(d,o,u)=>{d==="and"?a(h=>{const x=O(h);return x.condition.logics[o][u].push("and"),x.condition.logics[o][u].push({field:"",logic:"",val:""}),x}):d==="or"&&a(h=>{const x=O(h);return x.condition.logics[o][u].push("or"),x.condition.logics[o][u].push({field:"",logic:"",val:""}),x})},T=(d,o,u,h)=>{a(h!==void 0?x=>{const m=O(x);return m.condition.logics[o][u][h].val=d,m}:u!==void 0?x=>{const m=O(x);return m.condition.logics[o][u].val=d,m}:x=>{const m=O(x);return m.condition.logics[o].val=d,m})};return e.jsxs("div",{style:{width:900},children:[e.jsx("div",{children:((k=l==null?void 0:l.condition)==null?void 0:k.action_behavior)==="cond"&&((f=l==null?void 0:l.condition)==null?void 0:f.logics.map((d,o)=>e.jsxs("span",{children:[typeof d=="object"&&!Array.isArray(d)&&e.jsx(be,{fieldVal:d.field,changeFormField:r,changeValue:s,logicValue:d.logic,changeLogic:c,delLogic:b,lgcInd:o,value:d.val,formFields:t,setValue:T}),typeof d=="string"&&e.jsx(je,{logic:d,onChange:u=>i(u.target.value,o)}),Array.isArray(d)&&e.jsxs("div",{className:"p-2 pl-6 br-10 btcd-logic-grp",children:[d.map((u,h)=>e.jsxs("span",{children:[typeof u=="object"&&!Array.isArray(u)&&e.jsx(be,{fieldVal:u.field,changeFormField:r,changeValue:s,logicValue:u.logic,changeLogic:c,delLogic:b,lgcGrpInd:0,lgcInd:o,subLgcInd:h,value:u.val,formFields:t,setValue:T}),typeof u=="string"&&e.jsx(je,{logic:u,nested:!0,onChange:x=>i(x.target.value,o,h)}),Array.isArray(u)&&e.jsxs("div",{className:"p-2 pl-6 br-10 btcd-logic-grp",children:[u.map((x,m)=>e.jsxs("span",{children:[typeof x=="object"&&!Array.isArray(x)&&e.jsx(be,{fieldVal:x.field,changeFormField:r,changeValue:s,logicValue:x.logic,changeLogic:c,delLogic:b,lgcInd:o,subLgcInd:h,subSubLgcInd:m,value:x.val,formFields:t,setValue:T}),typeof x=="string"&&e.jsx(je,{logic:x,nested:!0,onChange:N=>i(N.target.value,o,h,m)})]},`subsubLogic-${m+90}`)),e.jsx("div",{className:"btcd-workFlows-btns",children:e.jsxs("div",{className:"flx",children:[e.jsx(E,{icn:!0,className:"blue",children:e.jsx(z,{size:"14",className:"icn-rotate-45"})}),e.jsxs(E,{onClick:()=>g("and",o,h),className:"blue ml-2",children:[e.jsx(z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND"," "]}),e.jsxs(E,{onClick:()=>g("or",o,h),className:"blue ml-2",children:[e.jsx(z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR"," "]})]})})]})]},`subLogic-${h*7}`)),e.jsx("div",{className:" btcd-workFlows-btns",children:e.jsxs("div",{className:"flx",children:[e.jsx(E,{icn:!0,className:"blue sh-sm",children:e.jsx(z,{size:"14",className:"icn-rotate-45"})}),e.jsxs(E,{onClick:()=>v("and",o),className:"blue ml-2",children:[e.jsx(z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND"]}),e.jsxs(E,{onClick:()=>v("or",o),className:"blue ml-2",children:[e.jsx(z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR"]}),e.jsxs(E,{onClick:()=>v("orGrp",o),className:"blue ml-2",children:[e.jsx(z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR Group"]}),e.jsxs(E,{onClick:()=>v("andGrp",o),className:"blue ml-2",children:[e.jsx(z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND Group"]})]})})]})]},`logic-${o+44}`)))}),((y=l==null?void 0:l.condition)==null?void 0:y.action_behavior)==="cond"&&e.jsx("div",{className:"btcd-workFlows-btns",children:e.jsxs("div",{className:"flx",children:[e.jsxs(E,{onClick:()=>j("and"),className:"blue ml-2",children:[e.jsx(z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND"]}),e.jsxs(E,{onClick:()=>j("or"),className:"blue ml-2",children:[e.jsx(z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR"]}),e.jsxs(E,{onClick:()=>j("orGrp"),className:"blue ml-2",children:[e.jsx(z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR Group"]}),e.jsxs(E,{onClick:()=>j("andGrp"),className:"blue ml-2",children:[e.jsx(z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND Group"]})]})})]})}function Vt({step:t,saveConfig:l,edit:a,disabled:i,isLoading:r,dataConf:s=null,setDataConf:c=null,formFields:b=[]}){var g,T,k,f;F.useEffect(()=>{if(s&&!(s!=null&&s.condition)){const y=A({},s);y.condition={action_behavior:"",actions:[{field:"",action:"value"}],logics:[{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}]},c(y)}},[]);const j=(y,d)=>{const o=A({},s);d?o.condition.action_behavior=y:o.condition.action_behavior="",c(o)},v=`
  <ul>
      <li>In this version, you can only map two fields of Zoho crm.If you want to map all of the fields of Zoho then the <a href="https://www.bitapps.pro/zoho-crm-with-elementor">Pro version</a> is available for you.</li>
  </ul>`;return e.jsxs("div",{children:[(s==null?void 0:s.condition)&&a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flx",children:e.jsx(W,{onChange:y=>j(y.target.value,y.target.checked),checked:((g=s==null?void 0:s.condition)==null?void 0:g.action_behavior)==="cond",className:"wdt-200 mt-4 mr-2",value:"cond",title:n("Conditional Logics","bit_integration")})}),e.jsx("br",{}),((T=s==null?void 0:s.condition)==null?void 0:T.action_behavior)==="cond"&&e.jsx(Be,{formFields:b,dataConf:s,setDataConf:c})]}),(s==null?void 0:s.condition)&&t===2&&!a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flx pl-2",children:e.jsx(W,{onChange:y=>j(y.target.value,y.target.checked),checked:((k=s==null?void 0:s.condition)==null?void 0:k.action_behavior)==="cond",className:"wdt-200 mt-4 mr-2",value:"cond",title:n("Conditional Logics","bit_integration")})}),e.jsx("br",{}),((f=s==null?void 0:s.condition)==null?void 0:f.action_behavior)==="cond"&&e.jsx(Be,{formFields:b,dataConf:s,setDataConf:c}),e.jsx(lt,{note:v,className:"fieldInfo"})]}),a?e.jsx("div",{className:"txt-center w-9 mt-3",children:e.jsxs("button",{onClick:l,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:r||i,children:[n("Update"),r&&e.jsx(qe,{size:20,clr:"#022217",className:"ml-2"})]})}):e.jsxs("div",{className:"btcd-stp-page txt-center",style:{width:t===3&&"100%",height:t===3&&"auto"},children:[e.jsx("h2",{className:"ml-3",children:n("Successfully Integrated")}),e.jsxs("button",{onClick:l,className:"btn btcd-btn-lg green sh-sm",type:"button",disabled:r,children:[n("Finish & Save "),"✔",r&&e.jsx(qe,{size:20,clr:"#022217",className:"ml-2"})]})]})]})}function ne({className:t,disabled:l,checked:a,onChange:i,radio:r,name:s,title:c,value:b,sqr:j}){return e.jsxs("label",{className:`btcd-ck-wrp ${t}`,children:[c,e.jsx("input",{type:r?"radio":"checkbox",checked:a,onChange:i,name:s,value:b,disabled:l}),e.jsx("span",{className:`btcd-mrk ${!j&&"br-50"} ${r?"rdo":"ck"}`})]})}function xt({action:t,children:l}){return e.jsxs("div",{className:"action-btn-wrapper",children:[e.jsx("div",{className:"action-btn",tabIndex:"0",role:"button",onClick:t,onKeyPress:t,children:e.jsx(ct,{})}),l]})}function Le({crmConf:t,setCrmConf:l,formFields:a,tab:i,formID:r,setSnackbar:s}){var N,P,$,Z,K,G,S,V,B,Y,D,w,I,C,ee,te,M;const[c,b]=F.useState(!1),[j,v]=F.useState(!1),[g,T]=F.useState({show:!1,action:()=>{}}),k=typeof izcrmef!="undefined"&&izcrmef.isPro,f=(p,R)=>{var q,U;const _=A({},t);if(i===0){if(R==="attachment"&&(p!==""?_.actions.attachment=p:delete _.actions.attachment),R==="approval"&&(p.target.checked?_.actions.approval=!0:delete _.actions.approval),R==="workflow"&&(p.target.checked?_.actions.workflow=!0:delete _.actions.workflow),R==="blueprint"&&(p.target.checked?_.actions.blueprint=!0:delete _.actions.blueprint),R==="gclid"&&(p.target.checked?_.actions.gclid=!0:delete _.actions.gclid),R==="assignment_rules"&&(p!==""?_.actions.assignment_rules=p:delete _.actions.assignment_rules),R==="tag_rec"&&(p!==""?_.actions.tag_rec=p:delete _.actions.tag_rec),R==="rec_owner"&&(p!==""?_.actions.rec_owner=p:delete _.actions.rec_owner),R==="upsert")if(p.target.checked){const H=(q=_.default.layouts[_.module][_.layout].unique)==null?void 0:q.map((J,Q)=>({i:Q,name:J}));_.actions.upsert={overwrite:!0,crmField:H}}else delete _.actions.upsert}else if(R==="attachment"&&(p!==""?_.relatedlists[i-1].actions.attachment=p:delete _.relatedlists[i-1].actions.attachment),R==="approval"&&(p.target.checked?_.relatedlists[i-1].actions.approval=!0:delete _.relatedlists[i-1].actions.approval),R==="workflow"&&(p.target.checked?_.relatedlists[i-1].actions.workflow=!0:delete _.relatedlists[i-1].actions.workflow),R==="blueprint"&&(p.target.checked?_.relatedlists[i-1].actions.blueprint=!0:delete _.relatedlists[i-1].actions.blueprint),R==="gclid"&&(p.target.checked?_.relatedlists[i-1].actions.gclid=!0:delete _.relatedlists[i-1].actions.gclid),R==="assignment_rules"&&(p!==""?_.relatedlists[i-1].actions.assignment_rules=p:delete _.relatedlists[i-1].actions.assignment_rules),R==="tag_rec"&&(p!==""?_.relatedlists[i-1].actions.tag_rec=p:delete _.relatedlists[i-1].actions.tag_rec),R==="rec_owner"&&(p!==""?_.relatedlists[i-1].actions.rec_owner=p:delete _.relatedlists[i-1].actions.rec_owner),R==="upsert")if(p.target.checked){const H=(U=_.default.layouts[_.relatedlists[i-1].module][_.relatedlists[i-1].layout].unique)==null?void 0:U.map((J,Q)=>({i:Q,name:J}));_.relatedlists[i-1].actions.upsert={overwrite:!0,crmField:H}}else delete _.relatedlists[i-1].actions.upsert;l(A({},_))},y=()=>{T({show:!1})},d=i===0?t.module:t.relatedlists[i-1].module,o=()=>{var R,_;const p=[{title:"Zoho CRM Tags",type:"group",childs:[]},{title:"Form Fields",type:"group",childs:[]}];return(R=t.default.tags)!=null&&R[d]&&(p[0].childs=Object.values((_=t.default.tags)==null?void 0:_[d]).map(q=>({label:q,value:q}))),p[1].childs=a.map(q=>({label:q.label,value:`\${${q.name}}`})),p},u=(p,R)=>{const _=A({},t);i===0?(R==="list"&&(_.actions.upsert.crmField=p),R==="overwrite"&&(_.actions.upsert.overwrite=p)):(R==="list"&&(_.relatedlists[i-1].actions.upsert.crmField=p),R==="overwrite"&&(_.relatedlists[i-1].actions.upsert.overwrite=p)),l(A({},_))},h=()=>{var p;(p=t.default)!=null&&p.crmOwner||Ke(r,t,l,v,s),T({show:"rec_owner"})},x=()=>{var p,R;(R=(p=t==null?void 0:t.default)==null?void 0:p.assignmentRules)!=null&&R[d]||Ge(i,t,l,v,s),T({show:"assignment_rules"})},m=()=>{var p,R,_,q;if(i&&!((p=t.relatedlists[i-1].actions.upsert)!=null&&p.crmField)){const U=A({},t),H=(R=U.default.layouts[U.relatedlists[i-1].module][U.relatedlists[i-1].layout].unique)==null?void 0:R.map((J,Q)=>({i:Q,name:J}));U.relatedlists[i-1].actions.upsert={overwrite:!0,crmField:H},l(U)}else if(!((_=t.actions.upsert)!=null&&_.crmField)){const U=A({},t),H=(q=U.default.layouts[U.module][U.layout].unique)==null?void 0:q.map((J,Q)=>({i:Q,name:J}));U.actions.upsert={overwrite:!0,crmField:H},l(A({},U))}b(!0)};return e.jsxs("div",{className:"pos-rel",children:[!k&&e.jsx("div",{className:"pro-blur flx w-10",style:{top:-25},children:e.jsxs("div",{className:"pro",children:[n("Available On","bit-integrations"),e.jsx("a",{href:"https://www.bitapps.pro/zoho-crm-with-elementor",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bit-integrations")]})})]})}),e.jsxs("div",{className:"d-flx flx-wrp",children:[e.jsx(W,{onChange:p=>f(p,"workflow"),checked:i===0?"workflow"in t.actions:"workflow"in t.relatedlists[i-1].actions,className:"wdt-200 mt-4 mr-2",value:"Workflow",title:n("Workflow","bit-integrations"),subTitle:n("Trigger CRM workflows","bit-integrations")}),e.jsx(W,{onChange:()=>T({show:"attachment"}),checked:i===0?"attachment"in t.actions:"attachment"in t.relatedlists[i-1].actions,className:"wdt-200 mt-4 mr-2",value:"Attachment",title:n("Attachment","bit-integrations"),subTitle:n("Add attachments or signatures from BitForm to CRM.","bit-integrations")}),e.jsx(W,{onChange:p=>f(p,"approval"),checked:i===0?"approval"in t.actions:"approval"in t.relatedlists[i-1].actions,className:"wdt-200 mt-4 mr-2",value:"Approval",title:n("Approval","bit-integrations"),subTitle:n("Send entries to CRM approval list.","bit-integrations")}),e.jsx(W,{onChange:p=>f(p,"blueprint"),checked:i===0?"blueprint"in t.actions:"blueprint"in t.relatedlists[i-1].actions,className:"wdt-200 mt-4 mr-2",value:"Blueprint",title:n("Blueprint","bit-integrations"),subTitle:n("Trigger CRM Blueprint","bit-integrations")}),e.jsx(W,{onChange:p=>f(p,"gclid"),checked:i===0?"gclid"in t.actions:"gclid"in t.relatedlists[i-1].actions,className:"wdt-200 mt-4 mr-2",value:"Capture_GCLID",title:n("Capture GCLID","bit-integrations"),subTitle:n("Sends the click details of AdWords Ads to Zoho CRM.","bit-integrations")}),e.jsx(xt,{action:m,children:e.jsx(W,{onChange:p=>f(p,"upsert"),checked:i===0?"upsert"in t.actions:"upsert"in t.relatedlists[i-1].actions,className:"wdt-200 mt-4 mr-2",value:"Upsert_Record",title:n("Upsert Records","bit-integrations"),subTitle:n("The record is updated if it already exists else it is inserted as a new record.","bit-integrations")})}),e.jsx(W,{onChange:x,checked:i===0?"assignment_rules"in t.actions:"assignment_rules"in t.relatedlists[i-1].actions,className:"wdt-200 mt-4 mr-2",value:"Assignment_Rule",title:n("Assignment Rules","bit-integrations"),subTitle:n("Trigger Assignment Rules in Zoho CRM.","bit-integrations")}),e.jsx(W,{onChange:()=>T({show:"tag_rec"}),checked:i===0?"tag_rec"in t.actions:"tag_rec"in t.relatedlists[i-1].actions,className:"wdt-200 mt-4 mr-2",value:"Tag_Records",title:n("Tag Records","bit-integrations"),subTitle:n("Add a tag to records pushed to Zoho CRM.","bit-integrations")}),e.jsx(W,{onChange:h,checked:i===0?"rec_owner"in t.actions:"rec_owner"in t.relatedlists[i-1].actions,className:"wdt-200 mt-4 mr-2",value:"Record_Owner",title:n("Record Owner","bit-integrations"),subTitle:n("Add a owner to records pushed to Zoho CRM.","bit-integrations")})]}),e.jsxs(ae,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bit-integrations"),show:g.show==="attachment",close:y,action:y,title:n("Select Attachment","bit-integrations"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Select file upload fields","bit-integrations")}),e.jsx(oe,{defaultValue:i===0?t.actions.attachment:t.relatedlists[i-1].actions.attachment,className:"mt-2 w-9",onChange:p=>f(p,"attachment"),options:a.filter(p=>p.type==="file").map(p=>({label:p.label,value:p.name}))})]}),e.jsxs(ae,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bit-integrations"),show:g.show==="assignment_rules",close:y,action:y,title:n("Assignment Rules","bit-integrations"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Assignment Rules","bit-integrations")}),j?e.jsx(se,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsxs("select",{value:i===0?t.actions.assignment_rules:t.relatedlists[i-1].actions.assignment_rules,className:"btcd-paper-inp",onChange:p=>f(p.target.value,"assignment_rules"),children:[e.jsx("option",{value:"",children:n("Select Assignment Rule","bit-integrations")}),((P=(N=t==null?void 0:t.default)==null?void 0:N.assignmentRules)==null?void 0:P[d])&&Object.keys(t.default.assignmentRules[d]).map(p=>e.jsx("option",{value:t.default.assignmentRules[d][p],children:p},p))]}),e.jsx("button",{onClick:()=>Ge(i,t,l,v,s),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Assignment Rules","bit-integrations")}'`},type:"button",disabled:j,children:"↻"})]})]}),e.jsxs(ae,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bit-integrations"),show:g.show==="tag_rec",close:y,action:y,title:n("Tag Records","bit-integrations"),children:[e.jsx("div",{className:"btcd-hr mt-2 mb-2"}),e.jsx("small",{children:n("Add a tag to records pushed to Zoho CRM","bit-integrations")}),e.jsx("div",{className:"mt-2",children:n("Tag Name","bit-integrations")}),j?e.jsx(se,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsx(oe,{className:"msl-wrp-options",defaultValue:i===0?t.actions.tag_rec:t.relatedlists[i-1].actions.tag_rec,options:o(),onChange:p=>f(p,"tag_rec"),customValue:!0}),e.jsx("button",{onClick:()=>dt(i,r,t,l,v,s),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`${n("Refresh CRM Tags","bit-integrations")}'`},type:"button",disabled:j,children:"↻"})]})]}),e.jsxs(ae,{className:"custom-conf-mdl",mainMdlCls:"o-v",btnClass:"blue",btnTxt:n("Ok","bit-integrations"),show:g.show==="rec_owner",close:y,action:y,title:n("Record Owner","bit-integrations"),children:[e.jsx("div",{className:"btcd-hr mt-2"}),e.jsx("div",{className:"mt-2",children:n("Owner Name","bit-integrations")}),j?e.jsx(se,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}):e.jsxs("div",{className:"flx flx-between mt-2",children:[e.jsxs("select",{value:i===0?t.actions.rec_owner:t.relatedlists[i-1].actions.rec_owner,className:"btcd-paper-inp",onChange:p=>f(p.target.value,"rec_owner"),children:[e.jsx("option",{value:"",children:n("Select Owner","bit-integrations")}),(($=t.default)==null?void 0:$.crmOwner)&&((Z=Object.values(t.default.crmOwner))==null?void 0:Z.map(p=>e.jsx("option",{value:p.id,children:p.full_name},p.id)))]}),e.jsx("button",{onClick:()=>Ke(r,t,l,v,s),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Owners","bit-integrations")}'`},type:"button",disabled:j,children:"↻"})]})]}),e.jsx(rt,{md:!0,show:c,setModal:b,title:n("Upsert Record","bit-integrations"),children:e.jsx("div",{className:"o-a",children:i===0?((K=t==null?void 0:t.actions)==null?void 0:K.upsert)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-w-m mt-2",children:n("Upsert Using","bit-integrations")}),e.jsx("small",{children:n("Arrange fields in order of preferance for upsertion","bit-integrations")}),e.jsx(We.ReactSortable,{list:(G=t.actions.upsert)==null?void 0:G.crmField,setList:p=>u(p,"list"),children:(V=(S=t.actions.upsert)==null?void 0:S.crmField)==null?void 0:V.map(p=>e.jsxs("div",{className:"upsert_rec w-7 mt-1 flx",children:[e.jsx("span",{className:"btcd-icn btcd-mnu mr-2"}),p.name]},`cf-${p.i}`))}),e.jsx("div",{className:"font-w-m mt-3",children:n("Upsert Preferance","bit-integrations")}),e.jsx("small",{children:n("Overwrite existing field values in Zoho CRM with empty field values from Zoho CRM For WPForms while upserting a record?","bit-integrations")}),e.jsxs("div",{children:[e.jsx(ne,{onChange:()=>u(!0,"overwrite"),radio:!0,checked:(B=t.actions.upsert)==null?void 0:B.overwrite,name:"up-rec",title:n("Yes","bit-integrations")}),e.jsx(ne,{onChange:()=>u(!1,"overwrite"),radio:!0,checked:!((Y=t.actions.upsert)!=null&&Y.overwrite),name:"up-rec",title:n("No","bit-integrations")})]})]}):((w=(D=t==null?void 0:t.relatedlists[i-1])==null?void 0:D.actions)==null?void 0:w.upsert)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-w-m mt-2",children:n("Upsert Using","bit-integrations")}),e.jsx("small",{children:n("Arrange fields in order of preferance for upsertion","bit-integrations")}),e.jsx(We.ReactSortable,{list:(I=t.relatedlists[i-1].actions.upsert)==null?void 0:I.crmField,setList:p=>u(p,"list"),children:(ee=(C=t.relatedlists[i-1].actions.upsert)==null?void 0:C.crmField)==null?void 0:ee.map(p=>e.jsxs("div",{className:"upsert_rec w-7 mt-1 flx",children:[e.jsx("span",{className:"btcd-icn btcd-mnu mr-2"}),p.name]},`cf-${p.i}`))}),e.jsx("div",{className:"font-w-m mt-3",children:n("Upsert Preferance","bit-integrations")}),e.jsx("small",{children:n("Overwrite existing field values in Zoho CRM with empty field values from Zoho CRM For WPForms while upserting a record?","bit-integrations")}),e.jsxs("div",{children:[e.jsx(ne,{onChange:()=>u(!0,"overwrite"),radio:!0,checked:(te=t.relatedlists[i-1].actions.upsert)==null?void 0:te.overwrite,name:"up-rec",title:n("Yes","bit-integrations")}),e.jsx(ne,{onChange:()=>u(!1,"overwrite"),radio:!0,checked:!((M=t.relatedlists[i-1].actions.upsert)!=null&&M.overwrite),name:"up-rec",title:n("No","bit-integrations")})]})]})})})]})}const ve=[{name:"_bi_current_time",label:"Current Date Time"},{name:"_bi_admin_email",label:"Administrator Email"},{name:"_bi_date_default",label:"Date (default format)"},{name:"_bi_date.m/d/y",label:"Date(mm/dd/yyy)"},{name:"_bi_date.d/m/y",label:"Date(dd/mm/yyy)"},{name:"_bi_date.y/m/d",label:"Date(Y-m-d)"},{name:"_bi_time",label:"Time"},{name:"_bi_weekday",label:"Weekday"},{name:"_bi_http_referer_url",label:"Referer URL"},{name:"_bi_ip_address",label:"User IP Address"},{name:"_bi_browser_name",label:"User Browser Name"},{name:"_bi_operating_system",label:"User Operating System"},{name:"_bi_random_digit_num",label:"Random Digit Number"},{name:"_bi_user_id",label:"User ID"},{name:"_bi_user_first_name",label:"User First Name"},{name:"_bi_user_last_name",label:"User Last Name"},{name:"_bi_user_display_name",label:"User Display Name"},{name:"_bi_user_nice_name",label:"User Nice Name"},{name:"_bi_user_login_name",label:"User Login Name"},{name:"_bi_user_email",label:"User Email"},{name:"_bi_user_url",label:"User Url"},{name:"_bi_current_user_role",label:"Current User Role"},{name:"_bi_author_id",label:"Post Author ID"},{name:"_bi_author_display",label:"Post Author Display Name"},{name:"_bi_author_email",label:"Post Author Email"},{name:"_bi_site_title",label:"Site Title"},{name:"_bi_site_description",label:"Site Description"},{name:"_bi_site_url",label:"Site URL"},{name:"_bi_wp_local_codes",label:"WordPress Locale Code"},{name:"_bi_post_id",label:"Embedded Page / Post ID"},{name:"_bi_post_name",label:"Embedded Page / Post Name"},{name:"_bi_post_title",label:"Embedded Page / Post Title"},{name:"_bi_post_url",label:"Embedded Page / Post URL"},{name:"_bi_post_date",label:"Post Publish Date"},{name:"_bi_post_modified_date",label:"Post Modified Date"}];function ce({i:t,formFields:l,uploadFields:a,field:i,crmConf:r,setCrmConf:s,tab:c,type:b}){var f,y,d,o,u,h,x,m,N,P,$,Z,K,G,S,V,B,Y,D;const j=c===0?r.module:(y=(f=r.relatedlists)==null?void 0:f[c-1])==null?void 0:y.module,v=c===0?r.layout:(o=(d=r.relatedlists)==null?void 0:d[c-1])==null?void 0:o.layout;let g;a?g=i.zohoFormField===""||((m=(x=(h=(u=r.default.layouts)==null?void 0:u[j])==null?void 0:h[v])==null?void 0:x.requiredFileUploadFields)==null?void 0:m.indexOf(i.zohoFormField))===-1:g=i.zohoFormField===""||((Z=($=(P=(N=r.default.layouts)==null?void 0:N[j])==null?void 0:P[v])==null?void 0:$.required)==null?void 0:Z.indexOf(i.zohoFormField))===-1;const T=at(nt),{isPro:k}=T;return e.jsx("div",{className:"flx mt-2 mb-2 izcrmef-field-map",children:e.jsxs("div",{className:"pos-rel flx",children:[e.jsxs("div",{className:"flx integ-fld-wrp",children:[e.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:i.formField||"",onChange:w=>Se(w,t,r,s,a,c),children:[e.jsx("option",{value:"",children:n("Select Field","bit-integrations")}),e.jsx("optgroup",{label:"Form Fields",children:a?l.map(w=>w.type==="file"&&e.jsx("option",{value:w.name,children:w.label},`ff-zhcrm-${w.name}`)):l.map(w=>w.type!=="file"&&e.jsx("option",{value:w.name,children:w.label},`ff-zhcrm-${w.name}`))}),!a&&e.jsx("option",{value:"custom",children:n("Custom...","bit-integrations")}),e.jsx("optgroup",{label:`General Smart Codes ${k?"":"(PRO)"}`,children:k&&(ve==null?void 0:ve.map(w=>e.jsx("option",{value:w.name,children:w.label},`ff-zhcrm-${w.name}`)))})]}),i.formField==="custom"&&e.jsx(Xe,{onChange:w=>ut(w,t,r,s,c),label:n("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:i.customValue,placeholder:n("Custom Value","bit-integrations")}),e.jsxs("select",{className:"btcd-paper-inp",disabled:!g,name:"zohoFormField",value:i.zohoFormField||"",onChange:w=>Se(w,t,r,s,a,c),children:[e.jsx("option",{value:"",children:n("Select Field","bit-integrations")}),a?((S=(G=(K=r.default.layouts)==null?void 0:K[j])==null?void 0:G[v])==null?void 0:S.fileUploadFields)&&Object.keys(r.default.layouts[j][v].fileUploadFields).filter(w=>w.required!==!0).map(w=>g?!r.default.layouts[j][v].fileUploadFields[w].required&&e.jsx("option",{value:w,children:r.default.layouts[j][v].fileUploadFields[w].display_label},w):e.jsx("option",{value:w,children:r.default.layouts[j][v].fileUploadFields[w].display_label},w)):((Y=(B=(V=r.default.layouts)==null?void 0:V[j])==null?void 0:B[v])==null?void 0:Y.fields)&&Object.keys(r.default.layouts[j][v].fields).filter(w=>w.required!==!0).map(w=>g?!r.default.layouts[j][v].fields[w].required&&e.jsx("option",{value:w,children:r.default.layouts[j][v].fields[w].display_label},w):e.jsx("option",{value:w,children:r.default.layouts[j][v].fields[w].display_label},w))]})]}),e.jsx("div",{className:"flx integ-fld-wrp",children:g&&e.jsxs(e.Fragment,{children:[!k&&((D=r.field_map)==null?void 0:D.length)==2?"":e.jsx("button",{onClick:()=>ie(t,r,s,a,c),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),e.jsx("button",{onClick:()=>ht(t,r,s,a,c),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:e.jsx("span",{className:"btcd-icn icn-trash-2"})})]})})]})})}function bt({tab:t,settab:l,formID:a,formFields:i,crmConf:r,setCrmConf:s,handleInput:c,isLoading:b,setIsLoading:j,setSnackbar:v}){var T,k,f,y,d,o,u,h;F.useEffect(()=>{Je(0,l)},[]);const g=typeof izcrmef!="undefined"&&izcrmef.isPro;return e.jsxs(e.Fragment,{children:[b&&e.jsx(se,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("b",{className:"wdt-200 d-in-b",children:n("Layout:","bit-integrations")}),e.jsxs("select",{onChange:c,name:"layout",value:r.layout,className:"btcd-paper-inp w-5",children:[e.jsx("option",{value:"",children:n("Select Layout","bit-integrations")}),((k=(T=r==null?void 0:r.default)==null?void 0:T.layouts)==null?void 0:k[r.module])&&Object.keys(r.default.layouts[r.module]).map(x=>e.jsx("option",{value:x,children:x},x))]}),e.jsx("button",{onClick:()=>Qe(t,a,r,s,j,v),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Layouts","bit-integrations")}'`},type:"button",disabled:b,children:"↻"}),e.jsx("br",{}),e.jsx("br",{}),((o=(d=(y=(f=r.default)==null?void 0:f.layouts)==null?void 0:y[r.module])==null?void 0:d[r.layout])==null?void 0:o.fields)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Field Map","bit-integrations")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-2 izcrmef-field-map-label",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bit-integrations")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bit-integrations")})})]}),r.field_map.map((x,m)=>e.jsx(ce,{i:m,field:x,crmConf:r,formFields:i,setCrmConf:s,tab:t,setSnackbar:v},`crm-m-${m+9}`)),e.jsxs("div",{className:"pos-rel",children:[!g&&((u=r.field_map)==null?void 0:u.length)==2&&e.jsx("div",{className:"pro-blur flx w-9",children:e.jsxs("div",{className:"pro",children:[n("Available On","bit-integrations"),e.jsx("a",{href:"https://www.bitapps.pro/zoho-crm-with-elementor",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bit-integrations")]})})]})}),e.jsx("div",{className:"txt-center izcrmef-field-map-button mt-2",children:e.jsx("button",{onClick:()=>ie(r.field_map.length,r,s,!1,t),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{})]}),Object.keys((h=r.default.layouts[r.module][r.layout])==null?void 0:h.fileUploadFields).length!==0&&e.jsxs("div",{className:"pos-rel",children:[!g&&e.jsx("div",{className:"pro-blur flx",children:e.jsxs("div",{className:"pro",children:["Available On",e.jsx("a",{href:"https://www.bitapps.pro/zoho-crm-with-elementor",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bit-integrations")]})})]})}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Map File Upload Fields","bit-integrations")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-2 izcrmef-field-map-label",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bit-integrations")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bit-integrations")})})]}),r.upload_field_map.map((x,m)=>e.jsx(ce,{i:m,uploadFields:!0,field:x,crmConf:r,formFields:i,setCrmConf:s,tab:t,setSnackbar:v},`crm-m-${m+9}`)),e.jsx("div",{className:"txt-center izcrmef-field-map-button mt-2",children:e.jsx("button",{onClick:()=>ie(r.upload_field_map.length,r,s,!0,t),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Actions","bit-integrations")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsx(Le,{formID:a,formFields:i,crmConf:r,setCrmConf:s,tab:t,setSnackbar:v})]})]})}function jt({indx:t,tab:l,settab:a,formID:i,formFields:r,crmConf:s,setCrmConf:c,handleInput:b,isLoading:j,setIsLoading:v,setSnackbar:g}){var k,f,y,d,o,u,h,x,m,N,P,$,Z,K,G,S,V,B,Y,D,w,I,C,ee,te;F.useEffect(()=>{Je(t+1,a,i,s,c,v,g)},[]);const T=typeof izcrmef!="undefined"&&izcrmef.isPro;return e.jsxs(e.Fragment,{children:[j&&e.jsx(se,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"pos-rel",children:[!T&&e.jsx("div",{className:"pro-blur flx w-9",children:e.jsxs("div",{className:"pro",children:[n("Available On","bit-integrations"),e.jsx("a",{href:"https://www.bitapps.pro/zoho-crm-with-elementor",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",n("Premium","bit-integrations")]})})]})}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Related List:","bit-integrations")}),e.jsxs("select",{onChange:b,name:"module",value:(f=(k=s==null?void 0:s.relatedlists)==null?void 0:k[l-1])==null?void 0:f.module,className:"btcd-paper-inp w-7",disabled:!s.module,children:[e.jsx("option",{value:"",children:n("Select Related Module","bit-integrations")}),((d=(y=s==null?void 0:s.default)==null?void 0:y.relatedlists)==null?void 0:d[s.module])&&Object.values(s.default.relatedlists[s.module]).map(M=>e.jsx("option",{value:M.module,children:M.name},M.module))]}),e.jsx("button",{onClick:()=>pt(i,s,c,v,g),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Related Lists","bit-integrations")}'`},type:"button",disabled:j,children:"↻"}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("b",{className:"wdt-100 d-in-b",children:n("Layout:","bit-integrations")}),e.jsxs("select",{onChange:b,name:"layout",value:(u=(o=s==null?void 0:s.relatedlists)==null?void 0:o[l-1])==null?void 0:u.layout,className:"btcd-paper-inp w-7",disabled:!((x=(h=s==null?void 0:s.relatedlists)==null?void 0:h[l-1])!=null&&x.module),children:[e.jsx("option",{value:"",children:n("Select Layout","bit-integrations")}),(($=(m=s==null?void 0:s.default)==null?void 0:m.layouts)==null?void 0:$[(P=(N=s.relatedlists)==null?void 0:N[l-1])==null?void 0:P.module])&&Object.keys(s.default.layouts[s.relatedlists[l-1].module]).map(M=>e.jsx("option",{value:M,children:M},M))]}),e.jsx("button",{onClick:()=>Qe(l,i,s,c,v,g),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":'"Refresh CRM Layouts"'},type:"button",disabled:j,children:"↻"}),e.jsx("br",{}),e.jsx("br",{}),((D=(Y=(S=(Z=s.default)==null?void 0:Z.layouts)==null?void 0:S[(G=(K=s==null?void 0:s.relatedlists)==null?void 0:K[l-1])==null?void 0:G.module])==null?void 0:Y[(B=(V=s==null?void 0:s.relatedlists)==null?void 0:V[l-1])==null?void 0:B.layout])==null?void 0:D.fields)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Field Map","bit-integrations")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-2 izcrmef-field-map-label",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bit-integrations")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bit-integrations")})})]}),(C=(I=(w=s.relatedlists)==null?void 0:w[l-1])==null?void 0:I.field_map)==null?void 0:C.map((M,p)=>e.jsx(ce,{i:p,field:M,crmConf:s,formFields:r,setCrmConf:c,tab:l,setSnackbar:g},`crm-m-${p+9}`)),e.jsx("div",{className:"txt-center izcrmef-field-map-button mt-2",children:e.jsx("button",{onClick:()=>ie(s.relatedlists[l-1].field_map.length,s,c,!1,l),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{}),((te=(ee=s.default)==null?void 0:ee.layouts[s.relatedlists[l-1].module])==null?void 0:te[s.relatedlists[l-1].layout])&&Object.keys(s.default.layouts[s.relatedlists[l-1].module][s.relatedlists[l-1].layout].fileUploadFields).length!==0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("File Upload Field Map","bit-integrations")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-2 izcrmef-field-map-label",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Form Fields","bit-integrations")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:n("Zoho Fields","bit-integrations")})})]}),s.relatedlists[l-1].upload_field_map.map((M,p)=>e.jsx(ce,{i:p,uploadFields:1,field:M,crmConf:s,formFields:r,setCrmConf:c,tab:l,setSnackbar:g},`crm-m-${p+9}`)),e.jsx("div",{className:"txt-center izcrmef-field-map-button mt-2",children:e.jsx("button",{onClick:()=>ie(s.relatedlists[l-1].upload_field_map.length,s,c,!0,l),className:"icn-btn sh-sm",type:"button",children:"+"})}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:n("Actions","bit-integrations")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsx(Le,{formFields:r,crmConf:s,setCrmConf:c,tab:l,formID:i,setSnackbar:g})]})]})}function Me(t){return function(l){return!!l.type&&l.type.tabsRole===t}}var ue=Me("Tab"),Ue=Me("TabList"),he=Me("TabPanel");function _e(){return _e=Object.assign||function(t){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},_e.apply(this,arguments)}function vt(t){return ue(t)||Ue(t)||he(t)}function ye(t,l){return F.Children.map(t,function(a){return a===null?null:vt(a)?l(a):a.props&&a.props.children&&typeof a.props.children=="object"?F.cloneElement(a,_e({},a.props,{children:ye(a.props.children,l)})):a})}function Ae(t,l){return F.Children.forEach(t,function(a){a!==null&&(ue(a)||he(a)?l(a):a.props&&a.props.children&&typeof a.props.children=="object"&&(Ue(a)&&l(a),Ae(a.props.children,l)))})}function Ie(t){var l,a,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(l=0;l<t.length;l++)t[l]&&(a=Ie(t[l]))&&(i&&(i+=" "),i+=a);else for(l in t)t[l]&&(i&&(i+=" "),i+=l);return i}function pe(){for(var t,l,a=0,i="";a<arguments.length;)(t=arguments[a++])&&(l=Ie(t))&&(i&&(i+=" "),i+=l);return i}var gt=0;function Ye(){return"react-tabs-"+gt++}function Ce(t){var l=0;return Ae(t,function(a){ue(a)&&l++}),l}function ft(t){var l=0;return Ae(t,function(a){he(a)&&l++}),l}var _t=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys"];function Ne(){return Ne=Object.assign||function(t){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},Ne.apply(this,arguments)}function yt(t,l){if(t==null)return{};var a={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(l.indexOf(r)>=0)&&(a[r]=t[r]);return a}function Nt(t,l){t.prototype=Object.create(l.prototype),t.prototype.constructor=t,we(t,l)}function we(t,l){return we=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},we(t,l)}function et(t){return t&&"getAttribute"in t}function De(t){return et(t)&&t.getAttribute("data-rttab")}function X(t){return et(t)&&t.getAttribute("aria-disabled")==="true"}var de;function wt(t){var l=t||(typeof window!="undefined"?window:void 0);try{de=!!(typeof l!="undefined"&&l.document&&l.document.activeElement)}catch(a){de=!1}}var ze=function(t){Nt(l,t);function l(){for(var i,r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return i=t.call.apply(t,[this].concat(s))||this,i.tabNodes=[],i.handleKeyDown=function(b){var j=i.props,v=j.direction,g=j.disableUpDownKeys;if(i.isTabFromContainer(b.target)){var T=i.props.selectedIndex,k=!1,f=!1;(b.keyCode===32||b.keyCode===13)&&(k=!0,f=!1,i.handleClick(b)),b.keyCode===37||!g&&b.keyCode===38?(v==="rtl"?T=i.getNextTab(T):T=i.getPrevTab(T),k=!0,f=!0):b.keyCode===39||!g&&b.keyCode===40?(v==="rtl"?T=i.getPrevTab(T):T=i.getNextTab(T),k=!0,f=!0):b.keyCode===35?(T=i.getLastTab(),k=!0,f=!0):b.keyCode===36&&(T=i.getFirstTab(),k=!0,f=!0),k&&b.preventDefault(),f&&i.setSelected(T,b)}},i.handleClick=function(b){var j=b.target;do if(i.isTabFromContainer(j)){if(X(j))return;var v=[].slice.call(j.parentNode.children).filter(De).indexOf(j);i.setSelected(v,b);return}while((j=j.parentNode)!=null)},i}var a=l.prototype;return a.setSelected=function(r,s){if(!(r<0||r>=this.getTabsCount())){var c=this.props,b=c.onSelect,j=c.selectedIndex;b(r,j,s)}},a.getNextTab=function(r){for(var s=this.getTabsCount(),c=r+1;c<s;c++)if(!X(this.getTab(c)))return c;for(var b=0;b<r;b++)if(!X(this.getTab(b)))return b;return r},a.getPrevTab=function(r){for(var s=r;s--;)if(!X(this.getTab(s)))return s;for(s=this.getTabsCount();s-- >r;)if(!X(this.getTab(s)))return s;return r},a.getFirstTab=function(){for(var r=this.getTabsCount(),s=0;s<r;s++)if(!X(this.getTab(s)))return s;return null},a.getLastTab=function(){for(var r=this.getTabsCount();r--;)if(!X(this.getTab(r)))return r;return null},a.getTabsCount=function(){var r=this.props.children;return Ce(r)},a.getPanelsCount=function(){var r=this.props.children;return ft(r)},a.getTab=function(r){return this.tabNodes["tabs-"+r]},a.getChildren=function(){var r=this,s=0,c=this.props,b=c.children,j=c.disabledTabClassName,v=c.focus,g=c.forceRenderTabPanel,T=c.selectedIndex,k=c.selectedTabClassName,f=c.selectedTabPanelClassName,y=c.environment;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var d=this.tabIds.length-this.getTabsCount();d++<0;)this.tabIds.push(Ye()),this.panelIds.push(Ye());return ye(b,function(o){var u=o;if(Ue(o)){var h=0,x=!1;de==null&&wt(y),de&&(x=L.Children.toArray(o.props.children).filter(ue).some(function(N,P){var $=y||(typeof window!="undefined"?window:void 0);return $&&$.document.activeElement===r.getTab(P)})),u=F.cloneElement(o,{children:ye(o.props.children,function(N){var P="tabs-"+h,$=T===h,Z={tabRef:function(G){r.tabNodes[P]=G},id:r.tabIds[h],panelId:r.panelIds[h],selected:$,focus:$&&(v||x)};return k&&(Z.selectedClassName=k),j&&(Z.disabledClassName=j),h++,F.cloneElement(N,Z)})})}else if(he(o)){var m={id:r.panelIds[s],tabId:r.tabIds[s],selected:T===s};g&&(m.forceRender=g),f&&(m.selectedClassName=f),s++,u=F.cloneElement(o,m)}return u})},a.isTabFromContainer=function(r){if(!De(r))return!1;var s=r.parentElement;do{if(s===this.node)return!0;if(s.getAttribute("data-rttabs"))break;s=s.parentElement}while(s);return!1},a.render=function(){var r=this,s=this.props;s.children;var c=s.className;s.disabledTabClassName;var b=s.domRef;s.focus,s.forceRenderTabPanel,s.onSelect,s.selectedIndex,s.selectedTabClassName,s.selectedTabPanelClassName,s.environment,s.disableUpDownKeys;var j=yt(s,_t);return L.createElement("div",Ne({},j,{className:pe(c),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(g){r.node=g,b&&b(g)},"data-rttabs":!0}),this.getChildren())},l}(F.Component);ze.defaultProps={className:"react-tabs",focus:!1};ze.propTypes={};var Tt=["children","defaultIndex","defaultFocus"];function kt(t,l){if(t==null)return{};var a={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(l.indexOf(r)>=0)&&(a[r]=t[r]);return a}function Rt(t,l){t.prototype=Object.create(l.prototype),t.prototype.constructor=t,Te(t,l)}function Te(t,l){return Te=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Te(t,l)}var Ot=0,ge=1,me=function(t){Rt(l,t);function l(i){var r;return r=t.call(this,i)||this,r.handleSelected=function(s,c,b){var j=r.props.onSelect,v=r.state.mode;if(!(typeof j=="function"&&j(s,c,b)===!1)){var g={focus:b.type==="keydown"};v===ge&&(g.selectedIndex=s),r.setState(g)}},r.state=l.copyPropsToState(r.props,{},i.defaultFocus),r}l.getDerivedStateFromProps=function(r,s){return l.copyPropsToState(r,s)},l.getModeFromProps=function(r){return r.selectedIndex===null?ge:Ot},l.copyPropsToState=function(r,s,c){c===void 0&&(c=!1);var b={focus:c,mode:l.getModeFromProps(r)};if(b.mode===ge){var j=Math.max(0,Ce(r.children)-1),v=null;s.selectedIndex!=null?v=Math.min(s.selectedIndex,j):v=r.defaultIndex||0,b.selectedIndex=v}return b};var a=l.prototype;return a.render=function(){var r=this.props,s=r.children;r.defaultIndex,r.defaultFocus;var c=kt(r,Tt),b=this.state,j=b.focus,v=b.selectedIndex;return c.focus=j,c.onSelect=this.handleSelected,v!=null&&(c.selectedIndex=v),L.createElement(ze,c,s)},l}(F.Component);me.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1};me.propTypes={};me.tabsRole="Tabs";var Pt=["children","className"];function ke(){return ke=Object.assign||function(t){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},ke.apply(this,arguments)}function Ft(t,l){if(t==null)return{};var a={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(l.indexOf(r)>=0)&&(a[r]=t[r]);return a}function $t(t,l){t.prototype=Object.create(l.prototype),t.prototype.constructor=t,Re(t,l)}function Re(t,l){return Re=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Re(t,l)}var xe=function(t){$t(l,t);function l(){return t.apply(this,arguments)||this}var a=l.prototype;return a.render=function(){var r=this.props,s=r.children,c=r.className,b=Ft(r,Pt);return L.createElement("ul",ke({},b,{className:pe(c),role:"tablist"}),s)},l}(F.Component);xe.defaultProps={className:"react-tabs__tab-list"};xe.propTypes={};xe.tabsRole="TabList";var Mt=["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"];function Oe(){return Oe=Object.assign||function(t){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},Oe.apply(this,arguments)}function Ut(t,l){if(t==null)return{};var a={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(l.indexOf(r)>=0)&&(a[r]=t[r]);return a}function At(t,l){t.prototype=Object.create(l.prototype),t.prototype.constructor=t,Pe(t,l)}function Pe(t,l){return Pe=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Pe(t,l)}var fe="react-tabs__tab",le=function(t){At(l,t);function l(){return t.apply(this,arguments)||this}var a=l.prototype;return a.componentDidMount=function(){this.checkFocus()},a.componentDidUpdate=function(){this.checkFocus()},a.checkFocus=function(){var r=this.props,s=r.selected,c=r.focus;s&&c&&this.node.focus()},a.render=function(){var r,s=this,c=this.props,b=c.children,j=c.className,v=c.disabled,g=c.disabledClassName;c.focus;var T=c.id,k=c.panelId,f=c.selected,y=c.selectedClassName,d=c.tabIndex,o=c.tabRef,u=Ut(c,Mt);return L.createElement("li",Oe({},u,{className:pe(j,(r={},r[y]=f,r[g]=v,r)),ref:function(x){s.node=x,o&&o(x)},role:"tab",id:T,"aria-selected":f?"true":"false","aria-disabled":v?"true":"false","aria-controls":k,tabIndex:d||(f?"0":null),"data-rttab":!0}),b)},l}(F.Component);le.defaultProps={className:fe,disabledClassName:fe+"--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:fe+"--selected"};le.propTypes={};le.tabsRole="Tab";var zt=["children","className","forceRender","id","selected","selectedClassName","tabId"];function Fe(){return Fe=Object.assign||function(t){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},Fe.apply(this,arguments)}function Et(t,l){if(t==null)return{};var a={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(l.indexOf(r)>=0)&&(a[r]=t[r]);return a}function Zt(t,l){t.prototype=Object.create(l.prototype),t.prototype.constructor=t,$e(t,l)}function $e(t,l){return $e=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},$e(t,l)}var He="react-tabs__tab-panel",re=function(t){Zt(l,t);function l(){return t.apply(this,arguments)||this}var a=l.prototype;return a.render=function(){var r,s=this.props,c=s.children,b=s.className,j=s.forceRender,v=s.id,g=s.selected,T=s.selectedClassName,k=s.tabId,f=Et(s,zt);return L.createElement("div",Fe({},f,{className:pe(b,(r={},r[T]=g,r)),role:"tabpanel",id:v,"aria-labelledby":k}),j||g?c:null)},l}(F.Component);re.defaultProps={className:He,forceRender:!1,selectedClassName:He+"--selected"};re.propTypes={};re.tabsRole="TabPanel";function Bt({tab:t,settab:l,formID:a,formFields:i,handleInput:r,crmConf:s,setCrmConf:c,isLoading:b,setIsLoading:j,setSnackbar:v}){var k;const g=()=>{if(s.relatedlists.length<3){const f=A({},s);f.relatedlists.push({actions:{},field_map:[{formField:"",zohoFormField:""}],layout:"",module:"",upload_field_map:[{formField:"",zohoFormField:""}]}),c(A({},f))}},T=f=>{const y=A({},s);y.relatedlists.splice(f,1),y.relatedlists.length||l(0),c(A({},y))};return e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("b",{className:"wdt-200 d-in-b",children:n("Module:","bit-integrations")}),e.jsxs("select",{onChange:r,name:"module",value:s.module,className:"btcd-paper-inp w-5",disabled:t,children:[e.jsx("option",{value:"",children:n("Select Module","bit-integrations")}),((k=s==null?void 0:s.default)==null?void 0:k.modules)&&Object.keys(s.default.modules).map(f=>e.jsx("option",{value:f,children:s.default.modules[f].plural_label},f))]}),t===0&&e.jsx("button",{onClick:()=>mt(a,s,c,j,v),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Refresh CRM Modules","bit-integrations")}'`},type:"button",disabled:b,children:"↻"}),e.jsx("br",{}),e.jsx("div",{children:e.jsxs(me,{children:[e.jsx("div",{className:"flx mt-2",children:e.jsxs(xe,{children:[e.jsx(le,{children:e.jsx("button",{className:`btcd-s-tab-link ${t===0&&"s-t-l-active"}`,type:"button",children:n("New Record","bit-integrations")})},1),(s==null?void 0:s.relatedlists)&&s.relatedlists.map((f,y)=>e.jsxs(e.Fragment,{children:[e.jsx(le,{children:e.jsxs("button",{className:`btcd-s-tab-link ${t===y+1&&"s-t-l-active"}`,type:"button",children:[n("Related List #","bit-integrations"),y+1]})},`t-${y*3}`),e.jsx("button",{onClick:()=>T(y),className:"icn-btn","aria-label":"delete-relatedlist",type:"button",children:e.jsx(z,{size:"14"})})]})),s.relatedlists.length<3&&e.jsx("button",{onClick:g,className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${n("Add More Related List","bit-integrations")}'`},type:"button",children:"+"})]})}),e.jsx("div",{className:"btcd-hr"}),e.jsx(re,{children:e.jsx(bt,{tab:t,settab:l,formID:a,formFields:i,crmConf:s,setCrmConf:c,handleInput:r,isLoading:b,setIsLoading:j,setSnackbar:v})}),(s==null?void 0:s.relatedlists)&&s.relatedlists.map((f,y)=>e.jsx(re,{children:e.jsx(jt,{indx:y,tab:t,settab:l,formID:a,formFields:i,crmConf:s,setCrmConf:c,handleInput:r,isLoading:b,setIsLoading:j,setSnackbar:v})},`p-${y+2.4}`))]})}),e.jsx("br",{})]})}export{Vt as I,Bt as Z};
